<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Tugas JQuery Line Chart</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <style>
        body {
            display: flex;
            justify-content: center;
        }

        input {
            accent-color: #0075ff;
            cursor: pointer;
            margin-right: 0;
        }

        canvas {
            width: 14px;
            height: 14px;
            margin-right: 3px;
        }

        .red {
            background-color: #E41A1C;
        }

        .blue {
            background-color: #377EB8;
        }

        .green {
            background-color: #4DAF4A;
        }

        .purple {
            background-color: #984EA3;
        }

        .orange {
            background-color: #FF7F00;
        }

        .yellow {
            background-color: #FFFF33;
        }

        ul {
            list-style: none;
        }
        .flotr-grid-label-x{
            margin-top: 4px;
        }
    </style>
</head>

<body>
    <table>
        <tr>
            <td>
                <p style="margin: 0; padding: 0 0 5px 0;">Gross Domestic Product (Current US$ in Trillions)</p>
                <div id="lines" style="width: 500px; height: 325px;"></div>
            </td>
            <td style="line-height: 25px; top: 0; padding-bottom: 80px;">
                <p style="margin: 0 0 10px 0;">Select Regions to Include</p>
                <ul id="ToggleController" style="padding-left: 15px; margin-top: 10px;">
                    <li>
                        <input type="checkbox" id="chartToggle1" checked="checked">
                        <label for="chartToggle1"><canvas class="red"></canvas>East Asia & Pacific</label>
                    </li>
                    <li>
                        <input type="checkbox" id="chartToggle2" checked="checked">
                        <label for="chartToggle2"><canvas class="blue"></canvas>Europe Central Asia</label>
                    </li>
                    <li>
                        <input type="checkbox" id="chartToggle3" checked="checked">
                        <label for="chartToggle3"><canvas class="green"></canvas>Latin America & Caribbean</label>
                    </li>
                    <li>
                        <input type="checkbox" id="chartToggle4" checked="checked">
                        <label for="chartToggle4"><canvas class="purple"></canvas>Middle East & North Africa</label>
                    </li>
                    <li>
                        <input type="checkbox" id="chartToggle5" checked="checked">
                        <label for="chartToggle5"><canvas class="orange"></canvas>South Asia</label>
                    </li>
                    <li>
                        <input type="checkbox" id="chartToggle6" checked="checked">
                        <label for="chartToggle6"><canvas class="yellow"></canvas>Sub-Saharan Africa</label>
                    </li>
                </ul>
            </td>
        </tr>
    </table>

    <script src="https://cdn.jsdelivr.net/npm/flotr2@0.1.0/flotr2.min.js"></script>
    <script>
        var chartData = {
            "1": {
                data: [
                    [1960, 0.1],
                    [1961, 0.15],
                    [1962, 0.15],
                    [1963, 0.15],
                    [1964, 0.15],
                    [1965, 0.2],
                    [1966, 0.2],
                    [1967, 0.25],
                    [1968, 0.25],
                    [1969, 0.3],
                    [1970, 0.3],
                    [1971, 0.35],
                    [1972, 0.35],
                    [1973, 0.45],
                    [1974, 0.55],
                    [1975, 0.65],
                    [1976, 0.75],
                    [1977, 0.85],
                    [1978, 0.95],
                    [1979, 1.15],
                    [1980, 1.25],
                    [1981, 1.35],
                    [1982, 1.45],
                    [1983, 1.55],
                    [1984, 1.65],
                    [1985, 1.75],
                    [1986, 2.25],
                    [1987, 3],
                    [1988, 3.75],
                    [1989, 4],
                    [1990, 4.25],
                    [1991, 5],
                    [1992, 5.75],
                    [1993, 6.25],
                    [1994, 6.75],
                    [1995, 7.5],
                    [1996, 7.15],
                    [1997, 6.85],
                    [1998, 6],
                    [1999, 6.75],
                    [2000, 7.5],
                    [2001, 6.75],
                    [2002, 7],
                    [2003, 8],
                    [2004, 9.5],
                    [2005, 10],
                    [2006, 10.5],
                    [2007, 11.75],
                    [2008, 13.5],
                    [2009, 14],
                    [2010, 16.5],
                    [2011, 19],
                ],
                color: "#E41A1C"
            },
            "2": {
                data: [
                    [1960, 0.3],
                    [1961, 0.35],
                    [1962, 0.4],
                    [1963, 0.45],
                    [1964, 0.5],
                    [1965, 0.55],
                    [1966, 0.65],
                    [1967, 0.75],
                    [1968, 0.85],
                    [1969, 0.95],
                    [1970, 1.05],
                    [1971, 1.15],
                    [1972, 1.45],
                    [1973, 1.75],
                    [1974, 1.95],
                    [1975, 2.15],
                    [1976, 2.35],
                    [1977, 2.45],
                    [1978, 3.15],
                    [1979, 4.25],
                    [1980, 5],
                    [1981, 4],
                    [1982, 3.75],
                    [1983, 3.25],
                    [1984, 3.75],
                    [1985, 4],
                    [1986, 5],
                    [1987, 5.25],
                    [1988, 6.25],
                    [1989, 6.75],
                    [1990, 8.25],
                    [1991, 8.5],
                    [1992, 9.25],
                    [1993, 8.25],
                    [1994, 8.75],
                    [1995, 10.25],
                    [1996, 10.45],
                    [1997, 10],
                    [1998, 10.45],
                    [1999, 10.25],
                    [2000, 9.25],
                    [2001, 9.5],
                    [2002, 11],
                    [2003, 13],
                    [2004, 15],
                    [2005, 16],
                    [2006, 17],
                    [2007, 21],
                    [2008, 22.75],
                    [2009, 19.5],
                    [2010, 20],
                    [2011, 22.5],
                ],
                color: "#377EB8"
            },
            "3": {
                data: [
                [1960, 0.05],
                    [1961, 0.015],
                    [1962, 0.025],
                    [1963, 0.035],
                    [1964, 0.045],
                    [1965, 0.055],
                    [1966, 0.065],
                    [1967, 0.075],
                    [1968, 0.085],
                    [1969, 0.095],
                    [1970, 0.1],
                    [1971, 0.125],
                    [1972, 0.125],
                    [1973, 0.125],
                    [1974, 0.125],
                    [1975, 0.15],
                    [1976, 0.25],
                    [1977, 0.35],
                    [1978, 0.45],
                    [1979, 0.55],
                    [1980, 0.65],
                    [1981, 0.7],
                    [1982, 0.75],
                    [1983, 0.7],
                    [1984, 0.75],
                    [1985, 0.85],
                    [1986, 0.95],
                    [1987, 1],
                    [1988, 1.05],
                    [1989, 1.1],
                    [1990, 1.15],
                    [1991, 1.2],
                    [1992, 1.25],
                    [1993, 1.5],
                    [1994, 1.65],
                    [1995, 1.752],
                    [1996, 1.75],
                    [1997, 2],
                    [1998, 2.25],
                    [1999, 2.5],
                    [2000, 2.25],
                    [2001, 2.5],
                    [2002, 2.5],
                    [2003, 2.25],
                    [2004, 2.5],
                    [2005, 3],
                    [2006, 3.25],
                    [2007, 3.75],
                    [2008, 4.5],
                    [2009, 4],
                    [2010, 5],
                    [2011, 5.75],
                ],
                color: "#4DAF4A"
            },
            "4": {
                data: [
                    [1960, 0.05],
                    [1961, 0.05],
                    [1962, 0.05],
                    [1963, 0.05],
                    [1964, 0.05],
                    [1965, 0.05],
                    [1966, 0.05],
                    [1967, 0.05],
                    [1968, 0.05],
                    [1969, 0.05],
                    [1970, 0.07],
                    [1971, 0.08],
                    [1972, 0.09],
                    [1973, 0.1],
                    [1974, 0.125],
                    [1975, 0.15],
                    [1976, 0.175],
                    [1977, 0.2],
                    [1978, 0.225],
                    [1979, 0.25],
                    [1980, 0.275],
                    [1981, 0.3],
                    [1982, 0.35],
                    [1983, 0.45],
                    [1984, 0.55],
                    [1985, 0.65],
                    [1986, 0.75],
                    [1987, 0.8],
                    [1988, 0.825],
                    [1989, 0.85],
                    [1990, 0.875],
                    [1991, 0.9],
                    [1992, 0.925],
                    [1993, 0.95],
                    [1994, 0.975],
                    [1995, 1.025],
                    [1996, 1.05],
                    [1997, 1.1],
                    [1998, 1.15],
                    [1999, 1.155],
                    [2000, 1.15],
                    [2001, 1.25],
                    [2002, 1.35],
                    [2003, 1.55],
                    [2004, 1.75],
                    [2005, 2.05],
                    [2006, 2.15],
                    [2007, 2.5],
                    [2008, 3.05],
                    [2009, 2.75],
                    [2010, 3.05],
                    [2011, 3.5],
                ],
                color: "#984EA3"
            },
            "5": {
                data: [
                    [1960, 0.05],
                    [1961, 0.05],
                    [1962, 0.05],
                    [1963, 0.05],
                    [1964, 0.05],
                    [1965, 0.05],
                    [1966, 0.05],
                    [1967, 0.05],
                    [1968, 0.05],
                    [1969, 0.05],
                    [1970, 0.07],
                    [1971, 0.08],
                    [1972, 0.09],
                    [1973, 0.1],
                    [1974, 0.125],
                    [1975, 0.15],
                    [1976, 0.175],
                    [1977, 0.2],
                    [1978, 0.225],
                    [1979, 0.3],
                    [1980, 0.3],
                    [1981, 0.3],
                    [1982, 0.3],
                    [1983, 0.4],
                    [1984, 0.4],
                    [1985, 0.4],
                    [1986, 0.4],
                    [1987, 0.5],
                    [1988, 0.5],
                    [1989, 0.6],
                    [1990, 0.6],
                    [1991, 0.7],
                    [1992, 0.7],
                    [1993, 0.8],
                    [1994, 0.8],
                    [1995, 0.85],
                    [1996, 0.85],
                    [1997, 0.9],
                    [1998, 0.9],
                    [1999, 1],
                    [2000, 1],
                    [2001, 1.1],
                    [2002, 1.1],
                    [2003, 1.3],
                    [2004, 1.5],
                    [2005, 1.7],
                    [2006, 1.8],
                    [2007, 2.1],
                    [2008, 2],
                    [2009, 2.25],
                    [2010, 2.5],
                    [2011, 2.75],
                ],
                color: "#FF7F00"
            },
            "6": {
                data: [
                    [1960, 0.05],
                    [1961, 0.05],
                    [1962, 0.05],
                    [1963, 0.05],
                    [1964, 0.05],
                    [1965, 0.05],
                    [1966, 0.05],
                    [1967, 0.05],
                    [1968, 0.05],
                    [1969, 0.05],
                    [1970, 0.07],
                    [1971, 0.08],
                    [1972, 0.09],
                    [1973, 0.1],
                    [1974, 0.125],
                    [1975, 0.15],
                    [1976, 0.175],
                    [1977, 0.2],
                    [1978, 0.225],
                    [1979, 0.25],
                    [1980, 0.275],
                    [1981, 0.3],
                    [1982, 0.325],
                    [1983, 0.35],
                    [1984, 0.375],
                    [1985, 0.4],
                    [1986, 0.425],
                    [1987, 0.45],
                    [1988, 0.475],
                    [1989, 0.5],
                    [1990, 0.525],
                    [1991, 0.55],
                    [1992, 0.575],
                    [1993, 0.6],
                    [1994, 0.625],
                    [1995, 0.65],
                    [1996, 0.675],
                    [1997, 0.7],
                    [1998, 0.725],
                    [1999, 0.75],
                    [2000, 0.775],
                    [2001, 0.8],
                    [2002, 0.9],
                    [2003, 1],
                    [2004, 1.1],
                    [2005, 1.2],
                    [2006, 1.3],
                    [2007, 1.4],
                    [2008, 1.5],
                    [2009, 1.3],
                    [2010, 1.5],
                    [2011, 1.7],
                ],
                color: "#FFFF33"
            }
        };

        var chartOptions = {
            grid: {
                horizontalLines: true,
                verticalLines: true,
                outlineWidth: 2,
            },
            yaxis: {
                min: 0, max: 25,
                tickFormatter: function (val) { return (val / 1) + ("&nbsp") }
            },
        };

        var chart;

        $(document).ready(function () {
            chart = Flotr.draw(
                document.getElementById("lines"),
                getActiveChartData(),
                chartOptions
            );

            for (var i = 1; i <= 6; i++) {
                $("#chartToggle" + i).change(function () {
                    updateChart();
                });
            }

            function updateChart() {
                var newChartData = getActiveChartData();
                Flotr.draw(document.getElementById("lines"), newChartData, chartOptions);
            }

            function getActiveChartData() {
                var activeChartData = [];
                for (var i = 1; i <= 6; i++) {
                    if ($("#chartToggle" + i).is(":checked")) {
                        activeChartData.push(chartData[i]);
                    }
                }
                return activeChartData;
            }
        });
    </script>
</body>

</html>